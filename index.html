<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BEST OF LUCK DIAMOND TOP UP</title>
  <style>
    body {
      background-color: skyblue;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }
    .container {
      background: white;
      border-radius: 10px;
      padding: 20px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    select, input, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
    }
    button {
      background-color: #28a745;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }
    button:hover {
      background-color: #218838;
    }
    input[readonly] {
      background-color: #f0f0f0;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>BEST OF LUCK DIAMOND TOP UP</h2>
    <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡ßç‡¶∞‡¶ø ‡¶´‡¶æ‡ßü‡¶æ‡¶∞ UID ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®:</p>
    <input type="text" id="uid" placeholder="UID (‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ)" required oninput="fetchName(this.value)" />
    <p>‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ:</p>
    <input type="text" id="playerName" placeholder="‡¶®‡¶æ‡¶Æ ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶Ü‡¶∏‡¶¨‡ßá" readonly />
    <p>‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®:</p>
    <select id="diamondSelect">
      <option value="25 Diamond = 25 BDT">25 Diamond = 25 BDT</option>
      <option value="50 Diamond = 39 BDT">50 Diamond = 39 BDT</option>
      <option value="115 Diamond = 82 BDT">115 Diamond = 82 BDT</option>
      <option value="240 Diamond = 160 BDT">240 Diamond = 160 BDT</option>
      <option value="355 Diamond = 236 BDT">355 Diamond = 236 BDT</option>
      <option value="480 Diamond = 312 BDT">480 Diamond = 312 BDT</option>
      <option value="505 Diamond = 330 BDT">505 Diamond = 330 BDT</option>
      <option value="610 Diamond = 392 BDT">610 Diamond = 392 BDT</option>
      <option value="850 Diamond = 546 BDT">850 Diamond = 546 BDT</option>
      <option value="1090 Diamond = 700 BDT">1090 Diamond = 700 BDT</option>
    </select>
    <p>‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®:</p>
    <select id="paymentMethod" required>
      <option value="" disabled selected>-- ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® --</option>
      <option value="Bkash/Nagad = 01580495595">Bkash/Nagad = 01580495595</option>
      <option value="Cash on Delivery">Cash on Delivery</option>
    </select>
    <p>‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶ì ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</p>
    <input type="text" id="orderTime" readonly />
    <button onclick="submitOrder()">‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
  </div>

  <script>
    // ‡¶®‡¶æ‡¶Æ ‡¶Ü‡¶®‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    async function fetchName(uid) {
      if (uid.length < 6) {
        document.getElementById('playerName').value = "";
        return;
      }
      try {
        // JSON ‡¶´‡¶æ‡¶á‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶æ‡¶Æ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π
        const res = await fetch('/data/players.json');
        const players = await res.json();
        
        // UID ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶®‡¶æ‡¶Æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã
        const name = players[uid] || "‡¶®‡¶æ‡¶Æ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø";
        document.getElementById('playerName').value = name;
      } catch (e) {
        document.getElementById('playerName').value = "‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá";
      }
    }

    // ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü (‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá)
    function updateTime() {
      const now = new Date();
      const options = { year: 'numeric', month: 'long', day: 'numeric', hour:'2-digit', minute:'2-digit', second:'2-digit' };
      const formatted = now.toLocaleDateString('bn-BD', options);
      document.getElementById('orderTime').value = formatted;
    }
    setInterval(updateTime, 1000);
    updateTime();

    // ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function submitOrder() {
      const uid = document.getElementById('uid').value;
      const name = document.getElementById('playerName').value;
      const diamond = document.getElementById('diamondSelect').value;
      const payment = document.getElementById('paymentMethod').value;
      const orderTime = document.getElementById('orderTime').value;

      if (!uid) {
        alert('UID ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®');
        return;
      }
      if (!payment) {
        alert('‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®');
        return;
      }

      const message = `‚úÖ ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶è‡¶∏‡ßá‡¶õ‡ßá:\nüÜî UID: ${uid}\nüë§ ‡¶®‡¶æ‡¶Æ: ${name}\nüíé ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú: ${diamond}\nüí∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶°: ${payment}\n‚è∞ ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü: ${orderTime}`;
      const whatsappUrl = `https://wa.me/8801580495595?text=${encodeURIComponent(message)}`;
      window.open(whatsappUrl, '_blank');
    }
  </script>
</body>
</html>
