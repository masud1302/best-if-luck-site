<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BEST OF LUCK DIAMOND TOP UP</title>
  <style>
    body {
      background-color: skyblue;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 15px 10px;
      margin: 0;
    }
    .container {
      background: white;
      border-radius: 10px;
      padding: 20px 15px;
      max-width: 480px;
      margin: 0 auto;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      box-sizing: border-box;
    }
    h2 {
      font-size: 1.8rem;
      margin-bottom: 15px;
    }
    p {
      font-size: 1.1rem;
      margin: 12px 0 6px;
      text-align: left;
    }
    input[type="text"],
    select,
    textarea {
      width: 100%;
      padding: 12px 10px;
      margin-top: 6px;
      font-size: 1.1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      box-sizing: border-box;
      resize: none;
    }
    input[readonly], textarea[readonly] {
      background-color: #f0f0f0;
      cursor: not-allowed;
    }
    select[multiple] {
      height: 220px;
    }
    button {
      width: 100%;
      padding: 14px 0;
      font-size: 1.2rem;
      border-radius: 7px;
      border: none;
      cursor: pointer;
      background-color: #28a745;
      color: white;
      margin-top: 15px;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #218838;
    }
    .btn-clear {
      background-color: #dc3545;
      margin-top: 8px;
    }
    .btn-clear:hover {
      background-color: #c82333;
    }
    #totalPrice {
      margin-top: 15px;
      font-weight: bold;
      font-size: 1.3rem;
      color: #155724;
      background: #d4edda;
      border: 1px solid #c3e6cb;
      padding: 10px;
      border-radius: 6px;
      user-select: none;
      text-align: left;
    }
    #paymentDetails {
      margin-top: 10px;
      text-align: left;
      background: #e2e3e5;
      border-radius: 6px;
      padding: 10px;
      white-space: pre-wrap;
      font-family: monospace;
      user-select: all;
      cursor: pointer;
      font-size: 1rem;
      min-height: 90px;
    }
    #paymentDetails:hover {
      background: #d6d8db;
    }
    /* Responsive adjustments */
    @media (max-width: 480px) {
      body {
        padding: 10px 5px;
      }
      .container {
        padding: 15px 10px;
      }
      h2 {
        font-size: 1.5rem;
      }
      select[multiple] {
        height: 180px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>BEST OF LUCK DIAMOND TOP UP</h2>

    <p>আপনার ফ্রি ফায়ার UID লিখুন:</p>
    <input
      type="text"
      id="uid"
      placeholder="UID (৯-১১ সংখ্যা)"
      required
      oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,11)"
      title="শুধু সংখ্যা লিখুন (৯-১১ ডিজিট)"
      autocomplete="off"
      inputmode="numeric"
      pattern="[0-9]{9,11}"
    />

    <p>গেমে কি নাম দেয়া আছে?</p>
    <input
      type="text"
      id="playerName"
      placeholder="আপনার গেম নাম এখানে লিখুন"
      required
      autocomplete="off"
      maxlength="30"
    />

    <p>প্যাকেজ সিলেক্ট করুন:</p>
    <select id="diamondSelect" multiple size="8" required onchange="calculateTotal()">
      <option data-price="25" value="25 Diamond = 25 BDT">25 Diamond = 25 BDT</option>
      <option data-price="39" value="50 Diamond = 39 BDT">50 Diamond = 39 BDT</option>
      <option data-price="82" value="115 Diamond = 82 BDT">115 Diamond = 82 BDT</option>
      <option data-price="160" value="240 Diamond = 160 BDT">240 Diamond = 160 BDT</option>
      <option data-price="236" value="355 Diamond = 236 BDT">355 Diamond = 236 BDT</option>
      <option data-price="312" value="480 Diamond = 312 BDT">480 Diamond = 312 BDT</option>
      <option data-price="330" value="505 Diamond = 330 BDT">505 Diamond = 330 BDT</option>
      <option data-price="392" value="610 Diamond = 392 BDT">610 Diamond = 392 BDT</option>
      <option data-price="546" value="850 Diamond = 546 BDT">850 Diamond = 546 BDT</option>
      <option data-price="700" value="1090 Diamond = 700 BDT">1090 Diamond = 700 BDT</option>
    </select>

    <div id="totalPrice">মোট দাম: 0 BDT</div>

    <p>পেমেন্ট মেথড সিলেক্ট করুন:</p>
    <select id="paymentMethod" required onchange="showPaymentDetails()">
      <option value="" disabled selected>-- নির্বাচন করুন --</option>
      <option value="Bkash/Nagad">Bkash/Nagad = 01580495595</option>
      <option value="Rocket">Rocket = 01316019861</option>
      <option value="Upay">Upay = 01316019861</option>
      <option value="Dhaka Bank">Dhaka Bank</option>
      <option value="UCB Bank">UCB Bank</option>
      <option value="IFIC Bank">IFIC Bank</option>
    </select>

    <textarea
      id="paymentDetails"
      readonly
      title="ক্লিক করে কপি করুন"
      onclick="copyPaymentDetails()"
      placeholder="পেমেন্ট ডিটেইল এখানে দেখাবে"
      rows="6"
    ></textarea>

    <p>ক্যাপচা: নিচের প্রশ্নের উত্তর দিন</p>
    <div id="captchaQuestion" style="font-weight: bold; font-size: 1.2rem; margin-bottom: 6px;"></div>
    <input
      type="text"
      id="captchaInput"
      placeholder="উত্তর দিন"
      autocomplete="off"
      inputmode="numeric"
      style="font-size: 1.1rem; padding: 8px; border-radius: 6px; border: 1px solid #ccc; width: 100%; box-sizing: border-box;"
    />

    <p>অর্ডারের সময় ও তারিখ:</p>
    <input type="text" id="orderTime" readonly />

    <button onclick="submitOrder()">সাবমিট করুন</button>
    <button class="btn-clear" onclick="clearForm()" type="button">ক্লিয়ার করুন</button>
  </div>

  <script>
    // বাংলাদেশ সময় (GMT+6) অনুযায়ী সময় আপডেট
    function updateTime() {
      const now = new Date();
      const options = {
        timeZone: 'Asia/Dhaka',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false,
      };
      const formatted = now.toLocaleString('bn-BD', options);
      document.getElementById('orderTime').value = formatted;
    }
    setInterval(updateTime, 1000);
    updateTime();

    // মোট দাম হিসাব
    function calculateTotal() {
      const diamondSelect = document.getElementById('diamondSelect');
      let total = 0;
      for (const option of diamondSelect.selectedOptions) {
        total += parseInt(option.getAttribute('data-price'));
      }
      document.getElementById('totalPrice').textContent = `মোট দাম: ${total} BDT`;
      return total;
    }

    // পেমেন্ট মেথড অনুযায়ী ডিটেইল দেখানো
    function showPaymentDetails() {
      const paymentMethod = document.getElementById('paymentMethod').value;
      const paymentDetails = document.getElementById('paymentDetails');

      let detailsText = '';

      switch (paymentMethod) {
        case 'Bkash/Nagad':
          detailsText = 'Bkash/Nagad নম্বর:\n01580495595';
          break;
        case 'Rocket':
          detailsText = 'Rocket নম্বর:\n01316019861';
          break;
        case 'Upay':
          detailsText = 'Upay নম্বর:\n01316019861';
          break;
        case 'Dhaka Bank':
          detailsText =
            'Dhaka Bank\n' +
            'নাম: MD MAHFUZUL ISLAM\n' +
            'একাউন্ট নাম্বার: 4111100035349\n' +
            'ব্রাঞ্চ: Bogura';
          break;
        case 'UCB Bank':
          detailsText =
            'UCB Bank\n' +
            'নাম: PREMIUM CYBER GALAXY\n' +
            'একাউন্ট নাম্বার: 0072101000007006\n' +
            'ব্রাঞ্চ: -';
          break;
        case 'IFIC Bank':
          detailsText =
            'IFIC Bank\n' +
            'নাম: MD MAHFUZUL ISLAM\n' +
            'একাউন্ট নাম্বার: 0230107830851\n' +
            'ব্রাঞ্চ: Bogura';
          break;
        default:
          detailsText = '';
      }

      paymentDetails.value = detailsText;
    }

    // পেমেন্ট ডিটেইলস কপি ফাংশন
    function copyPaymentDetails() {
      const paymentDetails = document.getElementById('paymentDetails');
      paymentDetails.select();
      paymentDetails.setSelectionRange(0, 99999); // মোবাইলের জন্য
      navigator.clipboard.writeText(paymentDetails.value).then(
        () => {
          alert('পেমেন্ট ডিটেইল কপি করা হয়েছে!');
        },
        () => {
          alert('কপি করতে সমস্যা হয়েছে। অনুগ্রহ করে ম্যানুয়ালি কপি করুন।');
        }
      );
    }

    // ক্যাপচা জেনারেট
    let captchaAnswer = 0;
    function generateCaptcha() {
      const num1 = Math.floor(Math.random() * 10) + 1; // 1 থেকে 10
      const num2 = Math.floor(Math.random() * 10) + 1;
      captchaAnswer = num1 + num2;
      document.getElementById('captchaQuestion').textContent = `মোট কত? ${num1} + ${num2} = ?`;
    }
    generateCaptcha();

    // সাবমিট ফাংশন
    function submitOrder() {
      const uid = document.getElementById('uid').value.trim();
      const name = document.getElementById('playerName').value.trim();
      const diamondSelect = document.getElementById('diamondSelect');
      const selectedDiamonds = Array.from(diamondSelect.selectedOptions)
        .map((option, index) => `${index + 1}. ${option.value} = ${option.getAttribute('data-price')} BDT`)
        .join('\n');
      const paymentMethod = document.getElementById('paymentMethod').value;
      const paymentDetails = document.getElementById('paymentDetails').value;
      const orderTime = document.getElementById('orderTime').value;
      const totalPrice = calculateTotal();
      const captchaInput = document.getElementById('captchaInput').value.trim();

      // ভ্যালিডেশন চেক
      if (!uid) {
        alert('UID লিখুন');
        return;
      }
      if (!/^\d{9,11}$/.test(uid)) {
        alert('UID অবশ্যই ৯ থেকে ১১ সংখ্যার মধ্যে হতে হবে');
        return;
      }
      if (!name) {
        alert('গেমে কি নাম দেয়া আছে? নাম লিখুন');
        return;
      }
      if (diamondSelect.selectedOptions.length === 0) {
        alert('কমপক্ষে একটি প্যাকেজ সিলেক্ট করুন');
        return;
      }
      if (!paymentMethod) {
        alert('পেমেন্ট মেথড নির্বাচন করুন');
        return;
      }
      if (!paymentDetails) {
        alert('পেমেন্ট ডিটেইলস দেখুন এবং নির্বাচন করুন');
        return;
      }
      if (totalPrice <= 0) {
        alert('সঠিক প্যাকেজ সিলেক্ট করুন');
        return;
      }
      if (!captchaInput) {
        alert('ক্যাপচা উত্তর দিন');
        return;
      }
      if (parseInt(captchaInput) !== captchaAnswer) {
        alert('ক্যাপচা ভুল হয়েছে, দয়া করে আবার চেষ্টা করুন');
        generateCaptcha();
        return;
      }

      // কনফার্মেশন পপআপ
      const confirmMsg = `আপনি কি নিশ্চিত যে অর্ডার করতে চান?\n
UID: ${uid}\n
নাম: ${name}\n
প্যাকেজ:\n${selectedDiamonds}\n
মোট দাম: ${totalPrice} BDT\n
পেমেন্ট মেথড: ${paymentMethod}\n
অর্ডারের সময়: ${orderTime}`;
      if (!confirm(confirmMsg)) {
        return;
      }

      // WhatsApp URL তৈরি
      const message = `✅ অর্ডার এসেছে:
🆔 UID: ${uid}
👤 নাম: ${name}
💎 প্যাকেজ:
${selectedDiamonds}
💰 মোট দাম: ${totalPrice} BDT
💳 পেমেন্ট মেথড: ${paymentMethod}
📋 পেমেন্ট ডিটেইলস:
${paymentDetails}
⏰ অর্ডারের সময়: ${orderTime}`;

      const whatsappUrl = `https://wa.me/8801580495595?text=${encodeURIComponent(message)}`;
      window.open(whatsappUrl, '_blank');

      alert('অর্ডার সফলভাবে সাবমিট হয়েছে!');
      clearForm();
      generateCaptcha(); // নতুন ক্যাপচা তৈরি
    }

    // ফর্ম ক্লিয়ার ফাংশন
    function clearForm() {
      document.getElementById('uid').value = '';
      document.getElementById('playerName').value = '';
      const diamondSelect = document.getElementById('diamondSelect');
      for (const option of diamondSelect.options) {
        option.selected = false;
      }
      document.getElementById('paymentMethod').value = '';
      document.getElementById('paymentDetails').value = '';
      document.getElementById('totalPrice').textContent = 'মোট দাম: 0 BDT';
      document.getElementById('captchaInput').value = '';
    }
  </script>
</body>
</html>
